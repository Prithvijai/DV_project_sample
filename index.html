<!DOCTYPE html>
<html lang='en'>

<head>
    <title>Project: D3 Custom Visualization Design - CSE 578 - Fall 2025</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" />
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="project.css">
    <!-- Mapbox GL JS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.css" rel="stylesheet" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.js"></script>
    
    <!-- Scrollama -->
    <script src="https://unpkg.com/intersection-observer@0.12.0/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>

    <!-- Group CSS -->
    <!-- pjramesh.css not present in workspace; comment out to avoid MIME/404 errors. Add back if available. -->
    <!-- <link rel="stylesheet" href="pjramesh.css"> -->

    <!-- Your CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Viz 11 CSS -->
    <link rel="stylesheet" href="viz11.css">

    <!-- ALIGNMENT FIX ONLY -->
    <style>
        /* Centers the two human figures */
        .figure-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 60px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        /* Keeps figure width consistent */
        .figure {
            width: 420px;
            text-align: center;
        }

        /* Center the results table */
        #comparisonResults {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        #comparisonResults table {
            margin: 0 auto;
        }

        /* Ensures input box aligns with the viz */
        .input-container {
            margin: 0 auto 20px auto;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
    </style>
</head>

<body>

<div class="myContainer">

    <h1 class="text-center">Data Visualization Project - CSE 578 - Fall 2025</h1>
    <h3 class="text-center">Prithvi Jai Ramesh - pjramesh@asu.edu</h3>
    <hr>

    <!-- Visualization 1 -->
            <div class="row justify-content-center mb-4">
                <div class="col-12">
                    <h4 class="text-center">Visualization 1</h4>
                    <div id="viz1" class="viz-container">
                        <div class="D347" style="width: 100%; max-width: 1200px;">
                            <div class="hdr3">
                                <div class="TB34">
                                    <h1>The Rise of Veganism</h1>
                                    <p>Exploring the evolution of global search interest (2004‚Äì2024), from a niche dietary restriction to a mainstream lifestyle movement.</p>
                                </div>
                                <div class="ct34">
                                    <button class="btn btsnd88" onclick="window.viz1ResetZoom()">
                                        Reset View
                                    </button>
                                    <button class="btn btpmy22" id="playBtn" onclick="window.viz1TogglePlay()">
                                        ‚ñ∂ Play Story
                                    </button>
                                </div>
                            </div>
                            <div id="viz1-chart-wrapper"></div>
                            <div class="e7ct">
                                <div class="e7cd" onclick="window.viz1ZoomToEra(0)" style="--color: #74b9ff">
                                    <div class="e7tt">2004 ‚Äî 2013</div>
                                    <div class="e7dc">The Niche Era</div>
                                </div>
                                <div class="e7cd" onclick="window.viz1ZoomToEra(1)" style="--color: #ffeaa7">
                                    <div class="e7tt">2014 ‚Äî 2019</div>
                                    <div class="e7dc">The Boom</div>
                                </div>
                                <div class="e7cd" onclick="window.viz1ZoomToEra(2)" style="--color: #00b894">
                                    <div class="e7tt">2020 ‚Äî 2024</div>
                                    <div class="e7dc">Peak & Stabilization</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>

    <!-- Visualization 2 -->
    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <h4 class="text-center">Visualization 2</h4>
            <div style="text-align: center; margin-bottom: 20px;">
                <h1 style="color: #ffffff; margin-bottom: 10px;">Veganism All Around the World</h1>
            </div>
            <div id="viz2" class="viz-container"></div>
        </div>
    </div>
    <hr>

    <!-- Visualization 3: Lifespan Chart -->
    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <div id="viz3" class="viz-container" style="flex-direction: column; min-height: 950px;">
                <!-- Header Row: Title on left, Selector on right -->
                <div class="lifespan-header-row">
                    <h4 class="lifespan-main-title">Animal Lifespan Reality</h4>
                    <div class="lifespan-selector-wrapper">
                        <label for="animal-selector" class="lifespan-label">Select an animal:</label>
                        <select id="animal-selector" class="lifespan-dropdown"></select>
                    </div>
                </div>
                <!-- Main Visualization Container -->
                <div id="split-viz-container"></div>
            </div>
        </div>
    </div>
    <hr>

    <!-- Visualization 4: Substitution Flow -->
    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <div id="viz4" class="viz-container" style="flex-direction: column; min-height: 700px;">
                <!-- Header Row: Title on left -->
                <div class="lifespan-header-row">
                    <h4 class="lifespan-main-title">Plant-Based Substitutions</h4>
                </div>
                <!-- Chart and Recipe Card Row -->
                <div style="display: flex; flex-direction: row; align-items: flex-start; gap: 1rem; justify-content: center; width: 100%;">
                    <!-- Flow Chart Container -->
                    <div id="substitution-chart"></div>
                    <!-- Flow Tooltip -->
                    <div id="flow-tooltip" class="flow-tooltip"></div>
                    <!-- Recipe Card -->
                    <div id="recipe-card" class="recipe-card hidden">
                        <div class="recipe-header">
                            <h4 id="recipe-title"></h4>
                            <button id="close-recipe" class="close-btn">&times;</button>
                        </div>
                        <ul id="recipe-list"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>

    <!-- Visualization 5 -->
    <section class="prithvi-story-section prithvi-viz-section">
        <div class="prithvi-story-container">
            <h2 class="prithvi-section-title">The Meat Industry's Impact</h2>
            <p class="prithvi-story-text">
                When we compare greenhouse gas emissions across different food types, a striking pattern emerges. 
                Beef production stands out dramatically‚Äîproducing up to <strong>150 times more carbon emissions</strong> 
                than growing potatoes. This visualization shows emissions measured three different ways: per kilogram, 
                per 1000 calories, and per 100 grams of protein.
            </p>
            
            <div id="viz5_div" class="prithvi-viz-card text-center">
                <svg id="viz5_svg" width="900" height="500"></svg>
            </div>

            <p class="prithvi-story-text prithvi-insight">
                üí° <strong>Key Insight:</strong> Even when accounting for nutritional content, animal-based foods‚Äîespecially 
                beef and lamb‚Äîrequire significantly more resources and produce far more emissions than plant-based alternatives 
                like tofu and potatoes.
            </p>
        </div>
    </section>
    <hr>

    <!-- Viz 6 -->
    <section class="prithvi-story-section prithvi-viz-section">
        <div class="prithvi-story-container">
            <h2 class="prithvi-section-title">Breaking Down the Supply Chain</h2>
            <p class="prithvi-story-text">
                But where do these emissions actually come from? It's not just about the farm. The journey from 
                field to fork involves land use, farming practices, animal feed, processing, transportation, 
                packaging, retail, and food waste. Each stage contributes differently depending on the food type.
            </p>
            <p class="prithvi-story-text">
                This interactive diagram shows how emissions are distributed across different stages of food 
                production. Select any food item from the dropdown to see its unique emissions profile. Notice 
                how animal products have significant emissions from farming and feed, while plant-based foods 
                often see more proportional impact from processing and transport.
            </p>
            
            <div id="viz6_div" class="prithvi-viz-card text-center">
                <div class="mb-3">
                    <label for="food-selector" class="food-selector-label">
                        <strong>üîç Explore Food Item:</strong>
                    </label>
                    <select id="food-selector" class="food-selector-dropdown">
                        <option value="">Loading...</option>
                    </select>
                </div>
                <svg id="viz6_svg" width="900" height="500"></svg>
            </div>

            <p class="prithvi-story-text prithvi-insight">
                üí° <strong>Key Insight:</strong> For beef, over 80% of emissions come from the farm and feed stages. 
                In contrast, plant-based foods have more distributed emissions across transportation, packaging, and 
                processing‚Äîstages where improvements in infrastructure and technology can make significant impacts.
            </p>
        </div>
    </section>
    <hr>

    <!-- Visualization 7 -->
    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <h4 class="text-center">Visualization 7</h4>
            <div id="viz7" class="viz-container">
                <!-- INTRO SECTION -->
                <section id="intro">
                    <div class="intro-content">
                        <p class="kicker">DATA INVESTIGATION</p>
                        <h1>The Hidden Cost of Vegan Protein</h1>
                        <p class="lede">
                            As plant-based diets surge globally, Brazil's Amazon bears an invisible burden. 
                            Soy monocultures stretch across millions of hectare, feeding the world's vegans 
                            while draining rainforest soils and displacing ecosystems.
                        </p>
                        <p class="scroll-cue">‚Üì Scroll to explore</p>
                    </div>
                </section>

                <!-- SCROLLY SECTION (Mapbox GL JS with Pitch/Bearing) -->
                <section id="scrolly">
                    <!-- Map FIRST (background layer) -->
                    <figure>
                        <div id="map-container"></div>
                        <div class="map-legend" id="map-legend"></div>
                    </figure>

                    <!-- Text SECOND (overlay on top) -->
                    <article id="narrative">
                        <div class="step" data-step="world-view">
                            <div class="step-inner">
                                <h2>A Tale of Two Forests</h2>
                                <p>Brazil, a country of continental proportions, holds two of the world's most vital ecosystems: the vast Amazon rainforest and the sprawling Cerrado savanna. This is a story of how one golden grain is reshaping them both.</p>
                                <p class="map-cue">Map cue: The emerald outline traces the Legal Amazon, framing the biomes at stake.</p>
                            </div>
                        </div>
                        <div class="step" data-step="amazon-basin">
                            <div class="step-inner">
                                <h3>The Amazon's Embrace</h3>
                                <p>The Legal Amazon, a huge administrative area, covers nearly 60% of Brazil. For decades, its primary story was one of cattle ranching and logging pushing into the jungle. But a new force was gathering on its southern border: soy cultivation, which exploded particularly after 2000.</p>
                                <p class="map-cue">Map cue: The same outline thickens along the basin's southern rim to spotlight the Legal Amazon perimeter.</p>
                            </div>
                        </div>
                        <div class="step" data-step="rondonia-fishbone">
                            <div class="step-inner">
                                <h3>The Fishbone Scars</h3>
                                <p>In states like Rond√¥nia, early deforestation for settlement and ranching created a distinctive "fishbone" pattern. Roads cut deep into the forest, with smaller clearings branching off. This infrastructure laid the groundwork for larger agricultural operations to follow.</p>
                                <p class="map-cue">Map cue: The outline fades so Rond√¥nia, Acre, and Amazonas can glow, tracing how the fishbone roads bit into the frontier.</p>
                            </div>
                        </div>
                        <div class="step" data-step="mato-grosso-boom">
                            <div class="step-inner">
                                <h3>Mato Grosso: The Soy Empire</h3>
                                <p>This is Mato Grosso, the epicenter of Brazil's soy revolution. Once covered by Cerrado and transitional forests, it has been transformed into a sea of agriculture. The state alone produces over 30% of the nation's soy.</p>
                                <p>This boom was fueled by technological advances, government incentives, and an insatiable global demand for animal feed.</p>
                                <p class="map-cue">Map cue: The Legal Amazon outline stays on while a red gradient shows soy growth and sprout icons mark the empire's powerhouse towns.</p>
                            </div>
                        </div>
                        <div class="step" data-step="arc-of-fire">
                            <div class="step-inner">
                                <h3>The Arc of Fire</h3>
                                <p>The agricultural frontier presses northward, creating the "arc of deforestation" along the southern and eastern edges of the Amazon. Here, the clash between forest and farm is most intense, with states showing explosive growth in soy production since 2000.</p>
                                <p class="map-cue">Map cue: Outline plus gradient sweep eastward to show Arc of Fire states multiplying their soy footprint, with hotspots flagged by sprout icons.</p>
                            </div>
                        </div>
                        <div class="step" data-step="br163-artery">
                            <div class="step-inner">
                                <h3>BR-163: Paving the Way</h3>
                                <p>Highways like the BR-163 are the arteries of this expansion. Paving this road connected the soy fields of Mato Grosso to river ports in Par√°, drastically cutting transport costs and accelerating land clearing along its entire length.</p>
                                <p class="map-cue">Map cue: Corridor shading hugs BR-163 while sprout icons hop toward river ports, tracing the export artery inside the Legal Amazon outline.</p>
                            </div>
                        </div>
                        <div class="step" data-step="fertilizer-yield">
                            <div class="step-inner">
                                <h3>The Chemical Boost</h3>
                                <p>This agricultural miracle has a hidden cost. Brazilian soils, particularly in the Cerrado, are naturally poor. Soy cultivation requires massive inputs of fertilizers and agrochemicals to achieve high yields, putting immense pressure on water systems and soil health.</p>
                                <p class="map-cue">Map cue: An amber wash fills the Legal Amazon to show where fertilizer intensity is spiking.</p>
                            </div>
                        </div>
                        <div class="step" data-step="final-cost">
                            <div class="step-inner">
                                <h3>The Final Cost</h3>
                                <p>The expansion of soy has brought wealth, but at a great environmental cost. The pressure on the Amazon continues, the Cerrado is critically endangered, and the future of these vital ecosystems hangs in the balance. The golden grain leaves a long, dark shadow.</p>
                                <p class="map-cue">Map cue: The red growth gradient and amber soil toll overlap inside the outline to show who shoulders the long-term cost.</p>
                            </div>
                        </div>
                    </article>
                </section>

                <!-- DATA BRIDGE SECTION -->
                <section id="outro">
                    <div class="outro-intro">
                        <p class="eyebrow">Ground Truths</p>
                        <h2>Where the fly-over meets the farm gate</h2>
                        <p>The aerial journey lands on two pulse checks: how much of Brazil's soy area now sits inside the Legal Amazon, and how heavily growers lean on fertilizers to keep yields from collapsing.</p>
                    </div>

                    <div class="outro-grid story-one-grid">
                        <article class="chart-card" id="area-card">
                            <h2>Amazon vs. Rest of Brazil</h2>
                            <svg id="area-chart"></svg>
                            <p class="chart-note">
                                Harvested soy area inside the Legal Amazon quintupled between 2000 and 2024 even as the rest of Brazil plateaued. Source: IBGE SIDRA table 1612.
                            </p>
                        </article>
                        
                        <article class="chart-card" id="fertilizer-card">
                            <h2>Brazil's Fertilizer Intensity</h2>
                            <svg id="fertilizer-chart"></svg>
                            <p class="chart-note">
                                Cerrado soils need constant chemical inputs. Fertilizer use per hectare jumped 45% after 2010, signaling mounting soil fatigue (FAO/OWID).
                            </p>
                        </article>
                    </div>

                    <div class="story-bridge">
                        <h3>From inputs to influence</h3>
                        <p>The acreage surge isn't spread evenly. A handful of corridor states convert fertilizer, finance, and highways into leverage over Brazil's export machine.</p>
                        <p>Keep scrolling and scrub through the treemap to see how those blocs wax and wane year by year.</p>
                    </div>
                </section>

                <!-- FRONTIER STATE NARRATIVE -->
                <section id="treemap-story">
                    <div class="treemap-intro">
                        <p class="eyebrow">Frontier Keepers</p>
                        <h2>Who holds the soy throttle?</h2>
                        <p>As soy pushes north, nine Amazon states trade places at the top of the acreage league table. The treemap below lets you slide through time or spotlight logistics corridors to watch the balance of power shift.</p>
                    </div>

                    <div class="treemap-controls">
                        <div class="control-group year-control">
                            <label for="treemap-year-slider">Year <span id="treemap-year-label">2024</span></label>
                            <input type="range" id="treemap-year-slider" min="2000" max="2024" value="2024" step="1" />
                        </div>
                        <div class="control-group focus-control">
                            <span>Focus corridor</span>
                            <div class="button-group" id="treemap-focus">
                                <button type="button" data-group="all" class="active">All Amazon</button>
                                <button type="button" data-group="arc">Arc of Fire</button>
                                <button type="button" data-group="shield">Forest Shield</button>
                                <button type="button" data-group="rivers">River Ports</button>
                            </div>
                        </div>
                    </div>

                    <div class="treemap-layout">
                        <div id="treemap-story-vis" class="treemap-canvas"></div>
                        <aside class="treemap-sidebar">
                            <div class="sidebar-card" id="treemap-state-spotlight">
                                <h3>State spotlight</h3>
                                <p class="spotlight-copy">Click a cell to pin a state and trace the harvested area trend inside the Legal Amazon.</p>
                                <div class="spotlight-metric">
                                    <span class="state-name">‚Äî</span>
                                    <span class="state-value">Select a state</span>
                                </div>
                                <svg id="treemap-sparkline"></svg>
                                <p class="sparkline-note">Line shows harvested soy area from 2000 onward.</p>
                            </div>
                            <div class="sidebar-card key-findings">
                                <h3>Reading the treemap</h3>
                                <ul>
                                    <li><strong>Arc of Fire</strong>: Mato Grosso, Par√° and their neighbors account for over half the Amazon soy footprint.</li>
                                    <li><strong>Forest Shield</strong>: Acre, Amap√°, Amazonas and Roraima still have small shares but fastest relative growth.</li>
                                    <li><strong>River Ports</strong>: Par√°, Maranh√£o and Amazonas command export corridors tied to BR-163 and Madeira River barges.</li>
                                </ul>
                            </div>
                        </aside>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <hr>

    <!-- Visualization 8 -->
    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <h4 class="text-center">Visualization 8</h4>
            <div id="viz8" class="viz-container"></div>
        </div>
    </div>
    <hr>

    <!-- Visualization 9 -->

    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <h4 class="text-center">Visualization 9 ‚Äì Nutrition Intake Liquid Figures</h4>

            <div id="viz9" class="viz-container">

    

                <!-- ‚≠ê ORIGINAL PAGE 1 CODE (UNCHANGED) ‚≠ê -->
                <section id="introPage">
                    <!-- ‚≠ê INPUT BOX INSIDE VIZ 9 ‚≠ê -->
                    <div class="input-container">
                        <label for="meatInput" style="font-weight: 600;">Meat Consumed per day:</label>
                        <input type="number" id="meatInput" placeholder="ENTER IN (g)" />
                        <button id="submitMeat">Calculate</button>
                    </div>
                    <div class="figure-container">

                        <!-- LEFT FIGURE -->
                        <div class="figure vegan-figure adjust-aura">
                            <p class="label">Vegan Meat</p>
                            <svg viewBox="0 0 550 950">
                                <defs>
                                    <pattern id="wavePatternGreen" x="0" y="0" width="300" height="15" patternUnits="userSpaceOnUse"></pattern>
                                    <clipPath id="clipLeft">
                                        <path d="M20 350 A25 25 0 0 1 45 325 L330 325 A25 25 0 0 1 350 350 L350 525 A10 10 0 0 1 340 535 L290 535 L290 750 A25 25 0 0 1 265 775 L235 775 A25 25 0 0 1 210 750 L210 550 L155 550 L155 750 A25 25 0 0 1 130 775 L100 775 A25 25 0 0 1 75 750 L75 535 L30 535 A10 10 0 0 1 20 525 Z"/>
                                        <circle cx="185" cy="215" r="65" />
                                    </clipPath>
                                </defs>

                                <g id="liquidLayer">
                                    <path id="waveLeft" clip-path="url(#clipLeft)" fill="#00ff99" opacity="0.8"
                                        d="M0,775 Q150,770 300,775 T550,775 L550,950 L0,950 Z" />
                                </g>

                                <g id="bubblesLeft" clip-path="url(#clipLeft)"></g>

                                <!-- outline -->
                                <circle cx="185" cy="215" r="65" />
                                <line x1="75" y1="350" x2="75" y2="750" />
                                <path d="M75 750 A25 25 0 0 0 100 775" />
                                <line x1="100" y1="775" x2="130" y2="775" />
                                <path d="M130 775 A25 25 0 0 0 155 750" />
                                <line x1="155" y1="750" x2="155" y2="550" />
                                <line x1="155" y1="550" x2="210" y2="550" />
                                <line x1="210" y1="550" x2="210" y2="750" />
                                <path d="M210 750 A25 25 0 0 0 235 775" />
                                <line x1="235" y1="775" x2="265" y2="775" />
                                <path d="M265 775 A25 25 0 0 0 290 750" />
                                <line x1="290" y1="750" x2="290" y2="350" />
                                <line x1="42.5" y1="325" x2="330" y2="325" />
                                <line x1="20" y1="350" x2="20" y2="525" />
                                <line x1="350" y1="350" x2="350" y2="525" />
                                <path d="M20 350 A25 25 0 0 1 45 325" />
                                <path d="M350 350 A25 25 0 0 0 325 325" />
                                <line x1="27.5" y1="535" x2="75" y2="535" />
                                <line x1="290" y1="535" x2="340" y2="535" />
                                <path d="M20 525 A10 10 0 0 0 30 535" />
                                <path d="M350 525 A10 10 0 0 1 340 535" />
                            </svg>
                            <p class="life-expectancy" id="lifeVegan">Life Expectancy: -- years</p>
                        </div>

                       <!-- ‚≠ê RESULTS TABLE ‚≠ê -->
                        <div id="comparisonResults">
                            <table><tbody id="resultsTable"></tbody></table>
                        </div>

                        <!-- RIGHT FIGURE -->
                        <div class="figure meat-figure">
                            <p class="label">Meat Meat</p>
                            <svg viewBox="0 0 550 950">
                                <defs>
                                    <clipPath id="clipRight">
                                        <path d="M20 350 A25 25 0 0 1 45 325 L330 325 A25 25 0 0 1 350 350 L350 525 A10 10 0 0 1 340 535 L290 535 L290 750 A25 25 0 0 1 265 775 L235 775 A25 25 0 0 1 210 750 L210 550 L155 550 L155 750 A25 25 0 0 1 130 775 L100 775 A25 25 0 0 1 75 750 L75 535 L30 535 A10 10 0 0 1 20 525 Z"/>
                                        <circle cx="185" cy="215" r="65" />
                                    </clipPath>
                                </defs>

                                <path id="waveRight" clip-path="url(#clipRight)" fill="#ff4444" opacity="0.85"
                                    d="M0,775 Q150,770 300,775 T550,775 L550,950 L0,950 Z" />
                                <g id="bubblesRight" clip-path="url(#clipRight)"></g>

                                <!-- outline -->
                                <circle cx="185" cy="215" r="65" />
                                <line x1="75" y1="350" x2="75" y2="750" />
                                <path d="M75 750 A25 25 0 0 0 100 775" />
                                <line x1="100" y1="775" x2="130" y2="775" />
                                <path d="M130 775 A25 25 0 0 0 155 750" />
                                <line x1="155" y1="750" x2="155" y2="550" />
                                <line x1="155" y1="550" x2="210" y2="550" />
                                <line x1="210" y1="550" x2="210" y2="750" />
                                <path d="M210 750 A25 25 0 0 0 235 775" />
                                <line x1="235" y1="775" x2="265" y2="775" />
                                <path d="M265 775 A25 25 0 0 0 290 750" />
                                <line x1="290" y1="750" x2="290" y2="350" />
                                <line x1="42.5" y1="325" x2="330" y2="325" />
                                <line x1="20" y1="350" x2="20" y2="525" />
                                <line x1="350" y1="350" x2="350" y2="525" />
                                <path d="M20 350 A25 25 0 0 1 45 325" />
                                <path d="M350 350 A25 25 0 0 0 325 325" />
                                <line x1="27.5" y1="535" x2="75" y2="535" />
                                <line x1="290" y1="535" x2="340" y2="535" />
                                <path d="M20 525 A10 10 0 0 0 30 535" />
                                <path d="M350 525 A10 10 0 0 1 340 535" />
                            </svg>

                            <p class="life-expectancy" id="lifeMeat">Life Expectancy: -- years</p>
                        </div>

                    </div>

                    <button id="exploreBtn">Explore Detailed Comparison ‚Üì</button>

                </section>

            </div>
        </div>
    </div>
    <hr>

    <!-- ===================================== -->
    <!--             VIZ 10 (PAGE 2)           -->
    <!-- ===================================== -->

    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <h4 class="text-center">Visualization 10 ‚Äì Nutrition Radar</h4>

            <div id="viz10" class="viz-container">

<section id="comparison">
  <section id="compare">
    <div class="header">
      <h1>Nutrition Radar: Vegan vs Carnivore</h1>
      <p>Compare any two foods interactively across six nutritional dimensions.</p>
    </div>

    <div class="selectors">

      <div class="control" id="leftControl">
        <label for="styleLeft">Select Food Style (Left)</label>
        <select id="styleLeft" class="style-dropdown">
          <option value="">--- Choose Style ---</option>
          <option value="carnivore">Carnivore ü•©</option>
          <option value="vegan">Vegan üåø</option>
        </select>
        <div id="foodLeftContainer" class="dropdown-container"></div>
      </div>

      <div class="control" id="rightControl">
        <label for="styleRight">Select Food Style (Right)</label>
        <select id="styleRight" class="style-dropdown">
          <option value="">--- Choose Style ---</option>
          <option value="carnivore">Carnivore ü•©</option>
          <option value="vegan">Vegan üåø</option>
        </select>
        <div id="foodRightContainer" class="dropdown-container"></div>
      </div>

    </div>

    <div id="viz-layout">
      <div id="leftinfo" class="info-panel"></div>
      <div id="chart-container">
        <svg id="chart"></svg>
      </div>
      <div id="rightinfo" class="info-panel"></div>
    </div>

    <div class="calorie-cards">
      <div id="leftCalories" class="card red"></div>
      <div id="rightCalories" class="card green"></div>
    </div>

    <div id="legend">
      <span class="legend red">‚óº Left Food</span>
      <span class="legend green">‚óº Right Food</span>
    </div>

  </section>
</section>

            </div>
        </div>
    </div>
    <hr>

    <!-- Visualization 11 -->
    <div id="viz11" class="viz-container">
        <div class="progress-bar" id="progress"></div>

        <section class="section hero active">
            <canvas class="particles" id="particles"></canvas>
            <h1>The Price of Choices</h1>
            <p class="subtitle">
                What if every meal you eat is an investment? 
                Not just in your health, but in the planet's future.
                Let's reveal the hidden returns of your daily food decisions.
            </p>
            <div class="scroll-indicator">
                <div class="arrow-down">‚Üì</div>
            </div>
        </section>

        <section class="section" style="background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);">
            <div class="content-wrapper">
                <h2>‚öñÔ∏è The Balance of Choice</h2>
                <p class="narrative-text">
                    Your diet is a delicate balance. Watch as the see-saw tips with every decision you make.
                    <br><br>
                    <strong>Which side will you choose?</strong>
                </p>
                <div id="viz-container">
                    <svg id="seesaw-viz" width="100%" height="700"></svg>
                </div>
                
                <div class="control-panel">
                    <h3 style="text-align: center; color: #667eea; margin-bottom: 30px; font-size: 1.8em;">
                        Adjust Your Weekly Food Budget
                    </h3>
                    <div class="slider-grid" id="sliders"></div>
                </div>

                <div class="balance-stats">
                    <div class="stat-card vegan">
                        <div class="stat-label">üå± Plant-Based</div>
                        <div class="stat-number" style="color: #2ecc71;">$<span id="vegan-total">0</span></div>
                        <div class="stat-label">Weekly Investment</div>
                    </div>
                    <div class="stat-card non-vegan">
                        <div class="stat-label">ü•© Animal-Based</div>
                        <div class="stat-number" style="color: #e74c3c;">$<span id="non-vegan-total">0</span></div>
                        <div class="stat-label">Weekly Cost</div>
                    </div>
                </div>

                <div class="insight-box">
                    <h3>The Tipping Point</h3>
                    <p id="balance-insight">
                        Move the sliders and watch the balance shift. 
                        The heavier side represents not just cost, but long-term burden.
                    </p>
                </div>
            </div>
        </section>

        <section class="section" style="background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);">
            <div class="content-wrapper">
                <h2>üåå The Cosmic Web of Impact</h2>
                <p class="narrative-text">
                    Every food choice creates ripples across dimensions of health, environment, and economy.
                    <br><br>
                    <span class="stat-highlight" style="font-size: 1.5em;">
                        Watch as your decisions weave through time and space.
                    </span>
                </p>
                <div id="viz-container">
                    <svg id="radial-viz" width="100%" height="800"></svg>
                </div>

                <div class="insight-box">
                    <h3>üåü The Hidden Universe</h3>
                    <p>
                        Each food orbits based on its true value. Distance from center = Combined ROI.
                        <br>
                        <span class="stat-highlight" style="font-size: 1.5em;">
                            Plant-based foods orbit in the outer rings of prosperity.
                        </span>
                        <br>
                        Animal products sink toward the center of long-term cost.
                    </p>
                </div>

                <div class="balance-stats">
                    <div class="stat-card" style="border-color: #2ecc71;">
                        <div class="stat-label">üíö Health ROI</div>
                        <div class="stat-number" style="color: #2ecc71;">+<span id="health-roi">0</span></div>
                        <div class="stat-label">Long-term Benefit</div>
                    </div>
                    <div class="stat-card" style="border-color: #16a085;">
                        <div class="stat-label">üåç Environmental ROI</div>
                        <div class="stat-number" style="color: #16a085;">+<span id="env-roi">0</span></div>
                        <div class="stat-label">Planet Impact</div>
                    </div>
                    <div class="stat-card" style="border-color: #667eea;">
                        <div class="stat-label">üí∞ Total ROI</div>
                        <div class="stat-number" style="color: #667eea;">+<span id="total-roi">0</span></div>
                        <div class="stat-label">Combined Return</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" style="background: linear-gradient(135deg, #134e5e 0%, #71b280 100%);">
            <div class="content-wrapper" style="text-align: center;">
                <h2>üå± Your Choice Matters</h2>
                <p class="narrative-text" style="font-size: 1.5em; max-width: 900px;">
                    Every meal is an investment decision.
                    <br><br>
                    <span class="stat-highlight" style="font-size: 1.3em;">The question isn't "Can I afford to eat plant-based?"</span>
                    <br>
                    <span style="font-size: 1.4em; color: #2ecc71;">It's "Can I afford not to?"</span>
                </p>
                <div class="insight-box" style="max-width: 700px; margin: 60px auto;">
                    <h3>üìä The Data Speaks</h3>
                    <p style="font-size: 1.1em;">
                        ‚úì Plant-based diets save $750+ annually in groceries<br>
                        ‚úì Reduce lifetime healthcare costs by $50,000+<br>
                        ‚úì Cut personal carbon footprint by 73%<br>
                        ‚úì Save 1,100 gallons of water per day
                    </p>
                </div>
            </div>
        </section>

        <!-- Viz11 tooltip (scoped inside viz11 container) -->
        <div class="viz11-tooltip"></div>
    </div>
    <hr>

    <!-- Shared tooltip for viz5/viz6 (MUST be outside viz11 to avoid CSS interference) -->
    <div class="tooltip" id="tooltip"></div>

    <!-- Visualization 12 -->
    <div class="row justify-content-center mb-4">
        <div class="col-12">
            <h4 class="text-center">Visualization 12</h4>
            <div id="viz12" class="viz-container"></div>
        </div>
    </div>
    <hr>

    <!-- Visualization 13 -->
    <section id="thankyouPage">
        <div class="thankyou-wrapper">
            <h1 id="thankyouText" class="thankyou-text">THANK YOU</h1>  
            <p class="thankyou-sub">Your contribution helps improve the nutrition study</p>
        
            <div class="qr-container">
                <img id="qrCode" src="" alt="QR Code to Google Form">
                <p class="qr-label">Scan to submit your diet choice</p>
            </div>
        </div>
    </section>

</div>

<!-- Shared Tooltip -->
<div id="tooltip"></div>

<!-- Group Scripts -->
<script src="viz1.js"></script>
<script src="viz2.js"></script>
<script src="viz3.js"></script>
<script src="viz4.js"></script>
<script src="viz5.js"></script>
<script src="viz6.js"></script>
<script src="viz7.js"></script>
<!-- viz8.js is missing from the project and caused 404/MIME errors; comment out until added back -->
<!-- <script src="viz8.js"></script> -->
<script src="viz9.js"></script>
<script src="viz10.js"></script>
<script src="viz11.js"></script>
<script type="module" src="viz12.js"></script>

</body>
</html>